/*! movingai2json 18-03-2015 */
"use strict";function parseMapString(a){for(var b=function(a){var b=a.split(" ");return Object.freeze({name:b[0],value:b[1]})},c={},d=a.split("\n"),e=0,f=d[e].trim();e<d.length&&!f.startsWith("map");)f.startsWith("height")?c.height=parseInt(b(f).value,10):f.startsWith("width")?c.width=parseInt(b(f).value,10):f.startsWith("type")&&(c.type=b(f).value),f=d[e].trim(),e++;c.matrix=new Array(c.height);for(var g=0;g<c.height;g++){c.matrix[g]=new Array(c.width);for(var h=0;h<c.width;h++)c.matrix[g][h]=d[g+e][h]}return c}String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(a,b){return b=b||0,this.lastIndexOf(a,b)===b}}),exports.parseMapString=parseMapString;